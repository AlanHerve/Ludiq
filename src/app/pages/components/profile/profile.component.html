<div class="wrapper">
  <div class="content">
    <div class="top-bar">
      <p class="text">{{ profileDTO.numPosts }} posts</p>
      <p class="text">Activity Director</p>
    </div>
    <div class="user">
      <div class="top-user-info">
        <img alt="userImg" src="assets/images/icons/user.png">

        <div class="user-info">
          <div class="text-container">
            <img class="badge" src="assets/images/icons/gold.png">
            <p class = "info">15 activities participated</p>
          </div>
          <div class="text-container">
            <img class="badge" src="assets/images/icons/hobbies.png">
            <p class = "info">{{ profileDTO.numHobbies }} hobbies</p>
          </div>
          <div class="text-container">
            <img class="badge" src="assets/images/icons/friends.png">
            <p class="info">{{ this.profileDTO.numFriends }} friends</p>
          </div>
        </div>
        <div class="favorite-hobby">
          <p class="title-favorite-hobby">Favorite hobby</p>
          <img [src]="favoriteHobby.image" alt="favorite hobby img" class="image-favorite">
          <button class="tag favorite">cooking</button>
        </div>
      </div>
      <p class="username">{{this.profileDTO.userDTO.name}}</p>
      <p class="nickname">{{this.profileDTO.userDTO.username}}</p>
    </div>

    <div *ngIf="isConnectedUser() else elseBlock">
      <div class="buttons">
        <button class="tag" routerLink="add_hobby">Add an hobby</button>
        <button routerLink="modify_profile">Modify profile</button>
        <button class="button2" routerLink="">Disconnect</button>
      </div>
    </div>
    <ng-template #elseBlock>
      <div class="buttons">
        <button (click)="onSendMessageClicked()" *ngIf="isFriend()">Send a message</button>
        <button (click)="addFriend()" *ngIf="!isFriend() else friendBlock">Add friend</button>
        <ng-template #friendBlock>
          <button (click)="removeFriend()" class="button2">Remove friend</button>
        </ng-template>
      </div>
    </ng-template>
    <div class="binder">
      <div (click)="onSwitchTo('posts')" class="tab {{ type === 'posts' ? 'selected' : '' }}">Posts</div>
      <div (click)="onSwitchTo('hobbies')" class="tab {{ type === 'hobbies' ? 'selected' : '' }}">Hobbies</div>
      <div (click)="onSwitchTo('activities')" class="tab {{ type === 'activities' ? 'selected' : '' }}">Activities</div>
    </div>

    <app-post-list [postsDTO]="profileDTO.postsDTO" *ngIf="type === 'posts'"></app-post-list>
    <app-activity-list [activitiesDTO]="this.activitiesDTO" *ngIf="type === 'activities'"></app-activity-list>

    <app-hobby-flashcard-list [hobbyFlashcardsDTO]="this.hobbyFlashcardsDTOs" *ngIf="type === 'hobbies'"></app-hobby-flashcard-list>


  </div>
  <app-navigation-bar></app-navigation-bar>
  <app-user-hobbies-list [id]="getID()"></app-user-hobbies-list>
</div>


<router-outlet></router-outlet>
